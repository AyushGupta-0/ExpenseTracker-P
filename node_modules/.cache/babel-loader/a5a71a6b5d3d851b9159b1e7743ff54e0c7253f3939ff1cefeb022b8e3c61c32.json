{"ast":null,"code":"var _jsxFileName = \"/workspaces/ExpenseTracker-P/src/components/profile/Profile.js\",\n  _s = $RefreshSig$();\nimport React, { useRef, useEffect, useState, useContext } from \"react\";\nimport axios from \"axios\";\nimport AuthContext from \"../../store/auth-context\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Profile() {\n  _s();\n  const history = useHistory();\n  const auth = useContext(AuthContext);\n  const [first, setfirst] = useState([]);\n  const [Isverify, setIsverify] = useState(localStorage.getItem('email'));\n  const nameref = useRef(\"\");\n  const photourl = useRef(\"\");\n  const idToken = localStorage.getItem(\"idToken\");\n  const token = {\n    idToken: idToken\n  };\n  useEffect(() => {\n    async function myfun() {\n      const response = await axios.post(\"https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyDW55X8yrfY3DYfPEVnvQZamzWMl7FuhzE\", token);\n      setfirst(response);\n    }\n    myfun();\n  }, [Isverify]);\n  let prename = \"\";\n  let preurl = \"\";\n  if (first.length !== 0) {\n    prename = first.data.users[0].displayName;\n    preurl = first.data.users[0].photoUrl;\n  }\n  const updatedetails = async event => {\n    event.preventDefault();\n    const name = nameref.current.value;\n    const url = photourl.current.value;\n    const idToken = localStorage.getItem(\"idToken\");\n    const details = {\n      idToken: idToken,\n      displayName: name,\n      photoUrl: url,\n      returnSecureToken: true\n    };\n    console.log(\"mydetails\", details);\n    try {\n      const response = await axios.post(\"https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyDW55X8yrfY3DYfPEVnvQZamzWMl7FuhzE\", details);\n      console.log(\"successful\", response);\n      nameref.current.value = \"\";\n      photourl.current.value = \"\";\n    } catch (error) {\n      alert(error.response.data.error.message);\n    }\n  };\n  console.log(Isverify);\n  const verify = async event => {\n    event.preventDefault();\n    const idToken = localStorage.getItem(\"idToken\");\n    const details = {\n      requestType: \"VERIFY_EMAIL\",\n      idToken: idToken\n    };\n    try {\n      const response = await axios.post(\"https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyDW55X8yrfY3DYfPEVnvQZamzWMl7FuhzE\", details);\n      console.log(\"Email Send successful\", response.data.email);\n      localStorage.setItem('email', response.data.email);\n      setIsverify(localStorage.getItem('email'));\n    } catch (error) {\n      alert(error.response.data.error.message);\n    }\n  };\n  const logout = () => {\n    auth.logout();\n    history.replace('/login');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: logout,\n      class: \"btn btn-outline-dark float-right\",\n      \"data-mdb-ripple-color\": \"dark\",\n      children: \"Logout\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-center\",\n      children: \"Contacts Details\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: updatedetails,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fas fa-user-alt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Full Name : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 43\n        }, this), \" \\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: nameref,\n          value: prename\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 11\n        }, this), \" \", \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/_jsxDEV(\"i\", {\n          class: \"fas fa-grin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this), \" \", /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Profile Photo Url : \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 39\n        }, this), \" \\xA0\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          ref: photourl,\n          value: preurl\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          class: \"btn btn-outline-dark\",\n          \"data-mdb-ripple-color\": \"dark\",\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 11\n        }, this), \" \\xA0 \", Isverify === null && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: verify,\n          class: \"btn btn-outline-dark\",\n          \"data-mdb-ripple-color\": \"dark\",\n          children: \"Verify Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 48\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 94,\n    columnNumber: 5\n  }, this);\n}\n_s(Profile, \"0kl2Jec//WTOIQFTKGkihVntaCo=\", false, function () {\n  return [useHistory];\n});\n_c = Profile;\nvar _c;\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"names":["React","useRef","useEffect","useState","useContext","axios","AuthContext","useHistory","jsxDEV","_jsxDEV","Profile","_s","history","auth","first","setfirst","Isverify","setIsverify","localStorage","getItem","nameref","photourl","idToken","token","myfun","response","post","prename","preurl","length","data","users","displayName","photoUrl","updatedetails","event","preventDefault","name","current","value","url","details","returnSecureToken","console","log","error","alert","message","verify","requestType","email","setItem","logout","replace","children","onClick","class","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","type","ref","_c","$RefreshReg$"],"sources":["/workspaces/ExpenseTracker-P/src/components/profile/Profile.js"],"sourcesContent":["import React, { useRef, useEffect, useState,useContext } from \"react\";\nimport axios from \"axios\";\nimport AuthContext from \"../../store/auth-context\";\nimport { useHistory } from \"react-router-dom\";\n\nexport default function Profile() {\n  const  history=useHistory();\n  const auth = useContext(AuthContext);\n  \n \n  const [first, setfirst] = useState([]);\n  const [Isverify, setIsverify] = useState(localStorage.getItem('email'));\n \n \n  const nameref = useRef(\"\");\n  const photourl = useRef(\"\");\n  const idToken = localStorage.getItem(\"idToken\");\n  const token = {\n    idToken: idToken,\n  };\n  useEffect(() => {\n    async function myfun() {\n      const response = await axios.post(\n        \"https://identitytoolkit.googleapis.com/v1/accounts:lookup?key=AIzaSyDW55X8yrfY3DYfPEVnvQZamzWMl7FuhzE\",\n        token\n      );\n      \n\n      setfirst(response);\n     \n    }\n    myfun();\n  }, [Isverify]);\n\n  let prename = \"\";\n  let preurl = \"\";\n  if (first.length !== 0) {\n    prename = first.data.users[0].displayName;\n    preurl = first.data.users[0].photoUrl;\n  }\n\n  const updatedetails = async (event) => {\n    event.preventDefault();\n    const name = nameref.current.value;\n    const url = photourl.current.value;\n    const idToken = localStorage.getItem(\"idToken\");\n    const details = {\n      idToken: idToken,\n      displayName: name,\n      photoUrl: url,\n      returnSecureToken: true,\n    };\n    console.log(\"mydetails\", details);\n    try {\n      const response = await axios.post(\n        \"https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyDW55X8yrfY3DYfPEVnvQZamzWMl7FuhzE\",\n        details\n      );\n      console.log(\"successful\", response);\n      nameref.current.value = \"\";\n      photourl.current.value = \"\";\n    } catch (error) {\n      alert(error.response.data.error.message);\n    }\n  };\n  console.log(Isverify);\n  const verify=async(event)=>{\n    event.preventDefault();\n    const idToken = localStorage.getItem(\"idToken\");\n    const details = {\n      requestType:\"VERIFY_EMAIL\",\n      idToken: idToken\n     }\n     try {\n        const response = await axios.post(\n          \"https://identitytoolkit.googleapis.com/v1/accounts:sendOobCode?key=AIzaSyDW55X8yrfY3DYfPEVnvQZamzWMl7FuhzE\",\n          details\n        );\n        console.log(\"Email Send successful\", response.data.email);\n        localStorage.setItem('email',response.data.email);\n        setIsverify(localStorage.getItem('email'));\n      \n      } catch (error) {\n        alert(error.response.data.error.message);\n      }\n     \n\n}\nconst logout=()=>{\n  auth.logout();\n  history.replace('/login');\n}\n  return (\n    <div>\n      <button\n            onClick={logout}\n            class=\"btn btn-outline-dark float-right\"\n            data-mdb-ripple-color=\"dark\"\n          >Logout\n            </button>\n      <h3 className=\"text-center\">Contacts Details</h3>\n      <hr />\n      <div className=\"container text-center\">\n        <form onSubmit={updatedetails}>\n          <i class=\"fas fa-user-alt\"></i> <label>Full Name : </label> &nbsp;\n          <input type=\"text\" ref={nameref} value={prename} />{\" \"}\n          &nbsp;&nbsp;&nbsp;&nbsp;\n          <i class=\"fas fa-grin\"></i> <label>Profile Photo Url : </label> &nbsp;\n          <input type=\"text\" ref={photourl} value={preurl} />\n          <br />\n          <br />\n          <button\n            type=\"submit\"\n            class=\"btn btn-outline-dark\"\n            data-mdb-ripple-color=\"dark\"\n          >\n            Update\n          </button> &nbsp; {Isverify===null && <button\n            onClick={verify}\n            class=\"btn btn-outline-dark\"\n            data-mdb-ripple-color=\"dark\"\n          >\n            Verify Email\n          </button> }\n        </form>\n      </div>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}